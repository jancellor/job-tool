<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container py-4" style="max-width: 800px;">
        <div class="mb-3">
            <a th:href="@{/}" class="text-primary text-decoration-none">‚Üê Back to List</a>
        </div>

        <div class="card shadow-sm">
            <div class="card-body">
                <h1 class="h3 mb-4">Job Details</h1>

                <div class="row g-3">
                    <div class="col-12">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-1">Title</h2>
                        <p class="mb-0" th:text="${job.title ?: 'N/A'}">Title</p>
                    </div>

                    <div class="col-12">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-1">Company</h2>
                        <p class="mb-0" th:text="${job.company ?: 'N/A'}">Company</p>
                    </div>

                    <div class="col-12">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-1">Location</h2>
                        <p class="mb-0" th:text="${job.location ?: 'N/A'}">Location</p>
                    </div>

                    <div class="col-12">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-1">Salary</h2>
                        <p class="mb-0" th:text="${job.salary ?: 'N/A'}">Salary</p>
                    </div>

                    <div class="col-12">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-1">Employment Type</h2>
                        <p class="mb-0" th:text="${job.employmentType ?: 'N/A'}">Type</p>
                    </div>

                    <div class="col-12">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-1">Published Date</h2>
                        <p class="mb-0"
                           th:text="${job.publishedDate != null ? #temporals.format(job.publishedDate, 'yyyy-MM-dd') : 'N/A'}">Date</p>
                    </div>

                    <div class="col-12">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-1">Remote Score</h2>
                        <p class="mb-0" th:text="${job.remoteScore != null ? job.remoteScore : 'N/A'}">Score</p>
                    </div>

                    <div class="col-12" th:if="${job.headline}">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-1">Headline</h2>
                        <p class="mb-0" th:text="${job.headline}">Headline</p>
                    </div>

                    <div class="col-12" th:if="${job.snippet}">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-2">Snippet</h2>
                        <div class="bg-light p-3 rounded border">
                            <p class="mb-0 text-break" style="white-space: pre-wrap;" th:text="${job.snippet}">Snippet</p>
                        </div>
                    </div>

                    <div class="col-12" th:if="${job.description}">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-2">Description</h2>
                        <div class="bg-light p-3 rounded border">
                            <div class="text-break" th:utext="${cleanedDescription}">Description</div>
                        </div>
                    </div>

                    <div class="col-12" th:if="${job.requiredLanguages != null && !#lists.isEmpty(job.requiredLanguages)}">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-1">Required Languages</h2>
                        <div class="d-flex flex-wrap gap-2">
                            <span th:each="language : ${job.requiredLanguages}"
                                  class="badge bg-primary"
                                  th:text="${language}">Language</span>
                        </div>
                    </div>

                    <div class="col-12" th:if="${job.requiredSkills != null && !#lists.isEmpty(job.requiredSkills)}">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-1">Required Skills</h2>
                        <div class="d-flex flex-wrap gap-2">
                            <span th:each="skill : ${job.requiredSkills}"
                                  class="badge bg-danger"
                                  th:text="${skill}">Skill</span>
                        </div>
                    </div>

                    <div class="col-12" th:if="${job.optionalSkills != null && !#lists.isEmpty(job.optionalSkills)}">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-1">Optional Skills</h2>
                        <div class="d-flex flex-wrap gap-2">
                            <span th:each="skill : ${job.optionalSkills}"
                                  class="badge bg-secondary"
                                  th:text="${skill}">Skill</span>
                        </div>
                    </div>

                    <div class="col-12">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-1">URL</h2>
                        <a th:href="${job.url}"
                           target="_blank"
                           class="text-primary text-decoration-none text-break"
                           th:text="${job.url}">URL</a>
                    </div>

                    <div class="col-12">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-1">Last Fetched At</h2>
                        <p class="mb-0"
                           th:text="${job.lastFetchedAt != null ? #temporals.format(job.lastFetchedAt, 'yyyy-MM-dd HH:mm:ss') : 'N/A'}">Date</p>
                    </div>

                    <div class="col-12">
                        <h2 class="small text-uppercase fw-semibold text-muted mb-1">Last Analyzed At</h2>
                        <p class="mb-0"
                           th:text="${job.lastAnalyzedAt != null ? #temporals.format(job.lastAnalyzedAt, 'yyyy-MM-dd HH:mm:ss') : 'N/A'}">Date</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
